var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Charjs;!function(a){var b;!function(a){a[a.Right=0]="Right",a[a.Left=1]="Left"}(b=a.Direction||(a.Direction={}));var c;!function(a){a[a.Up=0]="Up",a[a.Down=1]="Down"}(c=a.Vertical||(a.Vertical={}));var d=function(){function a(){this.ground=null,this.ceiling=null,this.right=null,this.left=null}return a}();a.Entity=d;var e=function(){function a(){}return a.drawPixel=function(a,b,c,d,e){a.beginPath(),a.rect(b*d,c*d,d,d),a.fillStyle=e,a.fill()},a.createCanvasElement=function(a,b,c){var d=document.createElement("canvas");return d.setAttribute("width",a.toString()),d.setAttribute("height",b.toString()),d.style.cssText="z-index: "+c+"; position: absolute; bottom: 0;",d},a.prototype.toImage=function(a){var b=MyQ.Deferred.defer(),c=new Image;return c.onload=function(){b.resolve(c)},c.src=a.toDataURL(),b.promise},a}();a.AbstractPixel=e;var f=function(a){function d(c,d,e,f,g,h,i,j){void 0===d&&(d=2),void 0===e&&(e={x:0,y:0}),void 0===f&&(f=b.Right),void 0===g&&(g=!0),void 0===h&&(h=!0),void 0===i&&(i=2147483640),void 0===j&&(j=45);var k=a.call(this)||this;return k.targetDom=c,k.pixSize=d,k.position=e,k._direction=f,k.useLeft=g,k.useVertical=h,k.zIndex=i,k.frameInterval=j,k._name="",k._gameMaster=null,k.currentAction=null,k._rightActions=[],k._leftActions=[],k._verticalRightActions=[],k._verticalLeftActions=[],k.size={height:0,width:0,widthOffset:0,heightOffset:0},k.entity={ground:null,ceiling:null,right:null,left:null},k}return __extends(d,a),d.prototype.uncompress=function(){if(this.cchars&&this.cchars.length>0){this.chars=[];for(var a=0,b=this.cchars;a<b.length;a++){var c=b[a];this.chars.push(Util.Compression.RLD(c))}}},d.prototype.getTimer=function(a,b){return this._gameMaster?this._gameMaster.addEvent(a):setInterval(a,b)},d.prototype.removeTimer=function(a){this._gameMaster?this._gameMaster.removeEvent(a):clearInterval(a)},d.prototype.init=function(){this.uncompress();for(var a=0,b=this.chars;a<b.length;a++){var c=b[a];this._rightActions.push(this.createCharacterAction(c)),this.useLeft&&this._leftActions.push(this.createCharacterAction(c,!0)),this.useVertical&&(this._verticalRightActions.push(this.createCharacterAction(c,!1,!0)),this.useLeft&&this._verticalLeftActions.push(this.createCharacterAction(c,!0,!0)))}},d.prototype.createCharacterAction=function(a,b,c){void 0===b&&(b=!1),void 0===c&&(c=!1),this.size.width=this.pixSize*a[0].length,this.size.height=this.pixSize*a.length;var e=d.createCanvasElement(this.size.width,this.size.height,this.zIndex);return g.drawCharacter(e.getContext("2d"),a,this.colors,this.pixSize,b,c),e},d.drawCharacter=function(a,b,c,e,f,g){f&&a.transform(-1,0,0,1,b[0].length*e,0),g&&a.transform(1,0,0,-1,0,b.length*e);for(var h=0;h<b.length;h++)for(var i=0;i<b[h].length;i++)0!=b[h][i]&&d.drawPixel(a,i,h,e,c[b[h][i]])},d.prototype.removeCharacter=function(){null!=this.currentAction&&(this.targetDom.removeChild(this.currentAction),this.currentAction=null)},d.prototype.draw=function(a,d,e,f,g){void 0===a&&(a=0),void 0===d&&(d=null),void 0===e&&(e=b.Right),void 0===f&&(f=c.Up),void 0===g&&(g=!1),g&&this.removeCharacter(),d=d||this.position,f==c.Up?this.currentAction=e==b.Right?this._rightActions[a]:this._leftActions[a]:this.currentAction=e==b.Right?this._verticalRightActions[a]:this._verticalLeftActions[a],this.currentAction.style.left=d.x+"px",this.currentAction.style.bottom=d.y+"px",this.currentAction.style.zIndex=this.zIndex.toString(),this.targetDom.appendChild(this.currentAction)},d.prototype.refresh=function(){this.currentAction.style.left=this.position.x+"px",this.currentAction.style.bottom=this.position.y+"px"},d.prototype.destroy=function(){this.removeCharacter()},d.prototype.getPosition=function(){return this.position},d.prototype.setPosition=function(a){this.position=a},d.prototype.getCharSize=function(){return this.size},d.prototype.getCurrntElement=function(){return this.currentAction},d}(e);a.AbstractObject=f;var g=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;return b._isStarting=!1,b._frameTimer=null,b._gravity=2,b.defaultCommand=function(a){32==a.keyCode&&(b._isStarting?b.stop():b.start())},b.upperObject=null,b.underObject=null,b.rightObject=null,b.leftObject=null,b}return __extends(c,a),c.prototype.registerCommand=function(){this._gameMaster||document.addEventListener("keypress",this.defaultCommand),this.registerActionCommand()},c.prototype.init=function(){a.prototype.init.call(this),this.registerCommand()},c.prototype.start=function(){var a=this;this._frameTimer||(this._frameTimer=this.getTimer(function(){a.onAction()},this.frameInterval)),this._isStarting=!0},c.prototype.stop=function(){this._frameTimer&&(this.removeTimer(this._frameTimer),this._frameTimer=null),this._isStarting=!1},c.prototype.destroy=function(){this.stop(),this._gameMaster&&this instanceof i&&this._gameMaster.deleteEnemy(this),document.removeEventListener("keypress",this.defaultCommand),a.prototype.destroy.call(this)},c.prototype.updateEntity=function(){if(this._gameMaster){var a=this._gameMaster.getApproachedObjects(this,3*this.size.width);this.entity.ground=null,this.entity.ceiling=null,this.entity.right=null,this.entity.left=null,this.upperObject=null,this.underObject=null,this.rightObject=null,this.leftObject=null;for(var b=0,c=a;b<c.length;b++){var d=c[b],e=d.getPosition(),f=d.getCharSize(),g=e.x+f.widthOffset,h=e.x+f.width-f.widthOffset,j=e.y,k=e.y+f.height-f.heightOffset,l=this.position.x+this.size.widthOffset,m=this.position.x+this.size.width-this.size.widthOffset,n=this.position.y,o=this.position.y+this.size.height-this.size.heightOffset;if(l>=g&&l<=h||m>=g&&m<=h){if(n>=k&&(null===this.entity.ground||this.entity.ground>=k)){this.underObject=d,n==k&&this instanceof i&&-1==d.entityEnemies.indexOf(this)&&d.entityEnemies.push(this),this.entity.ground=k;continue}if(o<=j+3*this.pixSize&&(null===this.entity.ceiling||this.entity.ceiling>=j+3*this.pixSize)){this.upperObject=d,this.entity.ceiling=j+3*this.pixSize;continue}}if(n>=j&&n<k||o>j&&o<=k){if(l>=h&&(null===this.entity.left||this.entity.left<h)){this.leftObject=d,this.entity.left=h;continue}if(m<=g&&(null===this.entity.right||this.entity.right>g)){this.rightObject=d,this.entity.right=g;continue}}}}},c.prototype.updateDirection=function(){var a=this._direction,c=this.entity.right||this.targetDom.clientWidth,d=this.entity.left||0;return this.position.x+this.size.width>=c&&a==b.Right&&(this._direction=b.Left),this.position.x<=d&&a==b.Left&&(this._direction=b.Right),a!=this._direction},c}(f);a.AbstractCharacter=g;var h=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(g);a.AbstractPlayer=h;var i=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(g);a.AbstractEnemy=i;var j=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.isActive=!0,b.entityEnemies=[],b}return __extends(b,a),b}(f);a.AbstractOtherObject=j;var k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.createBorderImage=function(){this.uncompress();var a=MyQ.Deferred.defer(),b=document.createElement("canvas"),c=b.getContext("2d"),d=this.pixSize*this.chars[0].length*3;b.setAttribute("width",d.toString()),b.setAttribute("height",d.toString());var e=this.pixSize*this.chars[0].length,f=[];return f.push(this.drawImage(c,this.chars[0],!1,!1,0,0)),f.push(this.drawImage(c,this.chars[1],!1,!1,e,0)),f.push(this.drawImage(c,this.chars[0],!0,!1,2*e,0)),f.push(this.drawImage(c,this.chars[2],!1,!1,0,e)),f.push(this.drawImage(c,this.chars[3],!1,!1,e,e)),f.push(this.drawImage(c,this.chars[2],!0,!1,2*e,e)),f.push(this.drawImage(c,this.chars[0],!1,!0,0,2*e)),f.push(this.drawImage(c,this.chars[1],!1,!0,e,2*e)),f.push(this.drawImage(c,this.chars[0],!0,!0,2*e,2*e)),MyQ.Promise.all(f).then(function(){a.resolve(b.toDataURL())}),a.promise},b.prototype.drawImage=function(a,b,c,d,e,f){var g=MyQ.Deferred.defer();return this.createImage(b,c,d).then(function(b){a.drawImage(b,e,f),g.resolve({})}),g.promise},b.prototype.createImage=function(a,b,c){var d=document.createElement("canvas"),e=d.getContext("2d"),f=this.pixSize*a.length;return d.setAttribute("width",f.toString()),d.setAttribute("height",f.toString()),g.drawCharacter(e,a,this.colors,this.pixSize,b,c),this.toImage(d)},b}(f);a.AbstractGround=k}(Charjs||(Charjs={}));var Charjs;!function(a){var b=function(b){function c(c,d,e,f,g,h){void 0===f&&(f=a.Direction.Right),void 0===g&&(g=2147483640),void 0===h&&(h=45);var i=b.call(this,c,d,e,f,!1,!0,g-2,h)||this;return i.colors=["","#000000","#ffffff","#fee13d","#ddae50"],i.cchars=[[[0,2,1,12,0,2],[0,1,1,1,2,3,4,9,1,1,0,1],[1,1,2,2,3,9,4,3,1,1],[1,1,2,1,3,11,4,2,1,1],[1,1,2,1,3,11,4,2,1,1],[1,1,4,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,2,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,4,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,4,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,4,1,3,11,4,2,1,1],[1,1,4,1,3,11,4,2,1,1],[1,1,4,1,3,11,4,2,1,1],[1,1,4,2,3,9,4,3,1,1],[1,1,4,14,1,1],[0,1,1,1,4,12,1,1,0,1],[0,2,1,12,0,2]],[[0,16],[0,16],[0,16],[0,1,1,14,0,1],[1,2,2,3,4,9,1,2],[1,1,2,1,1,12,4,1,1,1],[1,2,3,11,4,1,1,2],[1,1,4,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,4,1,3,3,1,1,3,4,1,1,3,2,4,2,1,1],[1,1,4,1,3,11,4,2,1,1],[1,1,4,1,3,11,4,2,1,1],[1,1,4,1,3,10,4,3,1,1],[0,1,1,14,0,1],[0,16],[0,16],[0,16]],[[0,16],[0,16],[0,16],[0,16],[0,16],[0,16],[0,1,1,14,0,1],[1,1,4,14,1,1],[1,1,4,14,1,1],[0,1,1,14,0,1],[0,16],[0,16],[0,16],[0,16],[0,16],[0,16]],[[0,16],[0,16],[0,16],[0,1,1,14,0,1],[1,2,2,10,3,1,2,1,1,2],[1,1,2,8,3,1,2,1,3,1,2,1,3,2,1,1],[1,1,2,4,4,1,2,2,3,1,2,1,4,1,3,4,1,1],[1,1,2,4,4,1,2,1,3,1,2,1,3,1,4,1,3,4,1,1],[1,1,2,1,3,1,2,1,3,1,2,1,3,1,2,1,3,7,1,1],[1,2,3,12,1,2],[1,1,3,1,1,12,4,1,1,1],[1,2,3,9,4,3,1,2],[0,1,1,14,0,1],[0,16],[0,16],[0,16]]],i.chars=null,i.animation=null,i._animationIndex=null,i._isStarting=!1,i._pushedUpTimer=null,i.defaultCommand=function(a){32==a.keyCode&&(i._isStarting?i.stop():i.start())},i}return __extends(c,b),c.getAnimation=function(a){return[{yOffset:4*a,index:0,wait:0},{yOffset:8*a,index:0,wait:0},{yOffset:10*a,index:0,wait:2},{yOffset:8*a,index:0,wait:0},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2},{yOffset:0,index:1,wait:2},{yOffset:0,index:2,wait:2},{yOffset:0,index:3,wait:2},{yOffset:0,index:0,wait:2}]},c.prototype.init=function(){b.prototype.init.call(this),this.draw(0)},c.prototype.start=function(){var b=this;null!==this._animationIndex&&null!=this.animation&&(this.isActive=!1,this._isStarting=!0,this._pushedUpTimer=this.getTimer(function(){if(b._animationIndex>=b.animation.length)return b.animation=null,b.isActive=!0,b._animationIndex=null,b.removeCommand(),void b.stop();var c={x:b.position.x,y:b.position.y};b.animation[b._animationIndex].yOffset&&(c.y+=b.animation[b._animationIndex].yOffset),b.draw(b.animation[b._animationIndex].index,c,a.Direction.Right,a.Vertical.Up,!0),b.animation[b._animationIndex].wait?b.animation[b._animationIndex].wait--:b._animationIndex++},this.frameInterval))},c.prototype.stop=function(){this._isStarting=!1,this._pushedUpTimer&&(this.removeTimer(this._pushedUpTimer),this._pushedUpTimer=null)},c.prototype.onPushedUp=function(){for(var b=0,d=this.entityEnemies;b<d.length;b++){d[b].onKicked(a.Direction.Right,0)}this._pushedUpTimer||(this.animation=c.getAnimation(this.pixSize),this._animationIndex=0,this.registerCommand(),this.start())},c.prototype.onTrampled=function(){},c.prototype.registerCommand=function(){document.addEventListener("keypress",this.defaultCommand)},c.prototype.removeCommand=function(){document.removeEventListener("keypress",this.defaultCommand)},c}(a.AbstractOtherObject);a.NormalBlockWorld=b}(Charjs||(Charjs={}));var Charjs;!function(a){var b=function(b){function c(d,e,f,g,h,i){void 0===g&&(g=a.Direction.Right),void 0===h&&(h=2147483640),void 0===i&&(i=45);var j=b.call(this,d,e,f,g,!0,!0,h-1,i)||this;return j.colors=["","#000000","#ffffff","#b82800","#f88800","#f87800","#f8c000","#f8f800"],j.cchars=[[[0,16],[0,6,1,4,0,6],[0,4,1,2,3,4,1,2,0,4],[0,3,1,1,4,1,1,4,3,3,1,4],[0,2,1,1,4,1,2,1,4,1,3,1,1,3,3,1,1,3,0,2],[0,1,1,1,3,2,4,1,3,3,2,1,1,3,2,1,3,1,1,1,0,1],[0,1,1,1,3,5,2,3,3,1,2,3,3,1,1,1],[1,1,3,6,2,2,1,1,3,1,1,1,2,2,3,1,1,1],[1,1,3,7,2,2,3,1,2,2,3,2,1,1],[1,1,3,6,4,6,3,2,1,1],[0,1,1,1,3,3,4,2,2,1,1,4,2,1,3,1,1,1,0,1],[0,1,5,3,4,2,1,2,4,4,1,1,4,2,0,1],[5,1,6,2,7,1,5,2,4,7,1,1,4,1,0,1],[1,1,6,2,7,2,2,1,5,1,0,4,1,2,7,1,2,1,1,1],[0,1,1,2,6,1,7,2,5,1,1,4,6,2,1,2,0,1],[0,3,1,4,0,2,1,4,0,3]],[[0,5,1,4,0,6],[0,4,1,2,3,4,1,2,0,4],[0,3,1,1,4,1,3,3,1,3,3,1,1,3,0,1],[0,2,1,1,4,1,2,1,4,1,3,4,1,2,3,1,1,2,0,1],[0,1,1,1,3,2,4,1,3,5,2,1,1,3,2,1,0,1],[0,1,1,1,3,7,2,3,1,1,2,2,0,1],[1,1,3,8,2,2,1,1,3,1,1,1,2,1,1,1],[1,1,3,9,2,2,3,1,2,2,1,1],[1,1,3,8,4,6,1,1],[0,1,1,1,3,5,4,2,2,1,1,5,0,1],[0,1,1,1,3,4,4,2,1,2,4,4,1,1,0,1],[0,2,1,1,3,2,4,8,1,1,0,2],[0,3,1,2,5,5,4,1,1,2,0,3],[0,5,5,1,6,2,7,2,5,1,0,5],[0,5,5,1,6,4,2,1,5,1,0,4],[0,5,1,7,0,4]]],j.chars=null,j._speed=c.DEFAULT_SPEED,j._step=c.STEP,j._currentStep=0,j._actionIndex=0,j._isKilled=!1,j._yVector=0,j._jumpPower=12,j._isJumping=!1,j._grabbedPlayer=null,j._vertical=a.Vertical.Up,j._steppedTimeout=0,j._revivedTimeout=0,j}return __extends(c,b),c.prototype.isKilled=function(){return this._isKilled},c.prototype.executeJump=function(){var b=this.entity.ground||0;this._isJumping?(this._yVector-=this._gravity*this.pixSize,null!=this.entity.ceiling?(this.position.y=Math.min(this.position.y+this._yVector,this.entity.ceiling-this.size.height+this.size.heightOffset),this.position.y==this.entity.ceiling-this.size.height+this.size.heightOffset&&this._yVector>0&&(this._yVector=0)):this.position.y=this.position.y+this._yVector,this.position.y<=b?(this._isJumping=!1,this._yVector=0,this.position.y=b,this._speed=c.DEFAULT_SPEED):this._yVector<=0&&(this._vertical=a.Vertical.Up)):this.position.y>b?(this._yVector-=this._gravity*this.pixSize,this.position.y+=this._yVector,this.position.y<b&&(this.position.y=b)):this._yVector=0},c.prototype.onAction=function(){if(this._steppedTimeout>0&&(this._steppedTimeout-=this.frameInterval,this._steppedTimeout<=0&&(this._step=1,this._revivedTimeout=2e3,this._steppedTimeout=0)),this._revivedTimeout>0&&(this._revivedTimeout-=this.frameInterval,this._revivedTimeout<=0&&(this._grabbedPlayer?(this._step=c.STEP,this._vertical=a.Vertical.Up,this._grabbedPlayer&&(this._grabbedPlayer.releaseEnemy(),this._grabbedPlayer=null)):(this._step=c.STEP,this._isJumping=!0,this._yVector=this._jumpPower*this.pixSize))),!this._grabbedPlayer){this.updateDirection();this.doHitTestWithOtherEnemy()&&(this._direction=this._direction==a.Direction.Right?a.Direction.Left:a.Direction.Right),this.updateEntity(),this.executeJump(),this._direction==a.Direction.Right?this.position.x+=this.pixSize*this._speed:this.position.x-=this.pixSize*this._speed,this.drawAction()}},c.prototype.drawAction=function(){this._currentStep<this._step?this._currentStep++:(this._currentStep=0,this._actionIndex=1^this._actionIndex),this.draw(this._actionIndex,null,this._direction,this._vertical,!0)},c.prototype.isStepped=function(){return this._vertical==a.Vertical.Down},c.prototype.onStepped=function(){this._vertical=a.Vertical.Down,this._speed=0,this._steppedTimeout=5e3},c.prototype.onGrabed=function(a){this._grabbedPlayer=a},c.prototype.onKicked=function(b,d){var e=this;this.stop(),this._isKilled=!0;var f=10*this.pixSize,g=b==a.Direction.Right?1:-1,h=this.getTimer(function(){if(f-=e._gravity*e.pixSize,e.position.y=e.position.y+f,e.position.x+=d*g,e.position.y<5*e.size.height*-1)return e.removeTimer(h),void e.destroy();e._currentStep<c.STEP?e._currentStep++:(e._currentStep=0,e._actionIndex=1^e._actionIndex),e.draw(e._actionIndex,null,e._direction,a.Vertical.Down,!0)},this.frameInterval)},c.prototype.doHitTestWithOtherEnemy=function(){if(this._gameMaster){var a=this._gameMaster.getEnemys();for(var b in a)if(a[b]!=this){var c=a[b].getPosition(),d=a[b].getCharSize();if(this.position.y>c.y+d.height)continue;if(c.y>this.position.y+this.size.height)continue;if(this.position.x>c.x+d.width)continue;if(c.x>this.position.x+this.size.width)continue;return!0}}return!1},c.prototype.registerActionCommand=function(){},c}(a.AbstractEnemy);b.DEFAULT_SPEED=1,b.STEP=2,a.GoombaWorld=b}(Charjs||(Charjs={}));var Charjs;!function(a){var b;!function(a){a[a.none=0]="none",a[a.dammage=1]="dammage",a[a.attack=2]="attack",a[a.grab=3]="grab"}(b||(b={}));var c=function(c){function d(b,e,f,g,h,i){void 0===g&&(g=a.Direction.Right),void 0===h&&(h=2147483640),void 0===i&&(i=45);var j=c.call(this,b,e,f,g,!0,!1,h,i)||this;return j._runIndex=0,j._currentStep=d.STEP,j._yVector=0,j._jumpPower=18,j._speed=d.DEFAULT_SPEED,j._gameOverWaitCount=0,j._speedUpTimer=null,j._speedDownTimer=null,j._squatTimer=null,j._gameOverTimer=null,j._isJumping=!1,j._isSpecial=!1,j._isBraking=!1,j._isSquat=!1,j._attackDirection=a.Direction.Right,j._specialAnimationIndex=0,j._specialAnimation=[{index:0,direction:a.Direction.Right},{index:12,direction:a.Direction.Right},{index:0,direction:a.Direction.Left},{index:13,direction:a.Direction.Right}],j._grabedEnemy=null,j._grabbing=!1,j._backgroundOpacity=0,j._canSpeedUpForMobile=!0,j._screenModeForMobile="PORTRAIT",j._deviceDirection=1,j.colors=["","#000000","#ffffff","#520000","#8c5a18","#21318c","#ff4273","#b52963","#ffde73","#dea539","#ffd6c6","#ff736b","#84dece","#42849c"],j.cchars=[[[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,2,11,3,1,4,0,3],[0,4,3,1,7,1,4,4,5,1,0,5],[0,3,3,1,7,2,6,1,13,2,12,2,5,1,0,4],[0,3,3,1,4,3,13,1,2,2,12,1,2,1,5,1,0,3],[0,3,4,1,2,3,4,1,2,2,12,1,2,1,5,1,0,3],[0,3,4,1,2,2,4,1,13,3,12,2,5,1,0,3],[0,3,4,1,2,2,4,1,13,2,5,1,13,1,5,1,0,4],[0,4,4,4,1,1,4,1,1,1,0,5],[0,4,1,1,4,3,8,1,1,1,8,1,1,1,0,4],[0,4,1,8,0,4]],[[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,2,11,3,1,4,0,3],[0,3,4,1,7,3,4,3,5,1,0,5],[0,3,4,4,13,2,12,2,5,1,0,4],[0,2,1,1,4,1,2,3,4,1,2,2,12,1,2,1,5,1,1,2,0,1],[0,1,1,1,3,1,4,1,2,2,4,2,2,2,12,1,2,1,1,1,8,1,1,2],[0,1,1,1,3,1,4,1,2,2,4,1,13,3,12,1,5,1,1,1,4,1,1,2],[0,1,1,1,3,1,1,1,4,2,13,4,5,1,1,1,4,1,1,2,0,1],[0,1,1,1,3,1,8,1,1,1,0,1,5,4,0,1,1,1,4,1,1,2,0,1],[0,2,1,2,0,8,1,2,0,2],[0,16],[0,16]],[[0,12,4,2,0,2],[0,11,4,1,2,2,4,1,0,1],[0,10,4,1,2,4,4,1],[0,7,3,5,2,3,4,1],[0,5,3,2,6,3,8,1,6,1,3,1,2,1,4,1,0,1],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,4,2,0,1],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,3,1,0,3],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,1,4,3,7,1,4,1,11,3,1,4,0,3],[4,2,2,2,4,1,7,1,4,4,5,1,0,5],[4,1,2,4,4,1,7,1,13,2,12,2,5,1,0,4],[4,1,2,4,4,1,13,2,2,2,12,1,2,1,5,1,1,2,0,1],[0,1,4,1,2,2,4,1,13,3,2,2,12,1,2,1,1,1,8,1,1,2],[0,1,1,1,3,1,4,1,13,6,12,1,5,1,1,1,4,1,1,2],[0,1,1,1,3,1,5,3,13,4,5,1,1,1,4,1,1,2,0,1],[0,1,1,1,3,1,8,1,1,1,0,1,5,4,0,1,1,1,4,1,1,2,0,1],[0,2,1,2,0,8,1,2,0,2]],[[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,7,1,1,5,11,1,1,2,0,4],[0,1,3,1,7,2,1,2,10,6,0,4],[0,1,3,1,7,1,10,1,1,2,10,2,1,1,10,1,1,1,10,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,10,2,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,1,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,2,1,1,11,2,1,1,10,2,1,1,11,5,4,1,0,1],[0,1,4,1,2,2,3,1,11,2,1,7,2,1,3,1],[4,1,2,4,3,1,11,3,1,4,2,2,3,1],[4,1,2,4,3,1,4,4,5,1,4,1,2,1,1,2,0,1],[0,1,4,1,2,2,3,1,13,4,12,2,5,1,1,1,8,1,1,2],[0,1,1,1,3,2,5,1,13,3,2,2,12,1,2,1,1,1,4,1,1,2],[0,1,1,1,4,2,5,1,13,3,2,2,12,1,2,1,1,1,4,1,1,2],[0,1,1,1,4,1,8,1,5,2,13,4,12,1,5,1,1,1,4,1,1,2],[0,2,1,2,0,1,5,2,13,3,5,1,0,2,1,2,0,1],[0,6,5,4,0,6],[0,16]],[[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[4,6,11,3,1,4,0,3],[4,1,2,3,4,1,7,1,4,4,5,1,0,5],[0,1,4,1,2,2,4,1,7,2,13,2,12,2,5,1,0,4],[0,2,4,2,7,2,13,2,2,2,12,1,2,1,5,1,0,3],[0,3,5,1,13,4,2,2,12,1,2,1,5,1,0,3],[0,3,5,1,13,6,12,2,5,1,0,3],[0,3,5,2,13,4,5,1,13,1,5,1,0,4],[0,4,4,4,1,1,4,1,1,1,0,5],[0,4,1,1,4,3,8,1,1,1,8,1,1,1,0,4],[0,4,1,8,0,4]],[[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[4,6,11,3,1,4,0,3],[4,1,2,3,4,1,7,1,4,4,5,1,0,5],[0,1,4,1,2,2,4,1,7,1,13,3,12,2,5,1,0,4],[0,2,4,2,7,2,13,2,2,2,12,1,2,1,5,1,1,2,0,1],[0,1,1,1,3,2,13,4,2,2,12,1,2,1,1,1,8,1,1,2],[0,1,1,1,3,2,13,6,12,1,5,1,1,1,4,1,1,2],[0,1,1,1,3,1,1,1,5,2,13,4,5,1,1,1,4,1,1,2,0,1],[0,1,1,1,3,1,8,1,1,1,0,1,5,4,0,1,1,1,4,1,1,2,0,1],[0,2,1,2,0,8,1,2,0,2],[0,16],[0,16]],[[0,16],[0,5,3,5,0,6],[0,4,3,1,6,1,8,1,6,3,3,2,0,4],[0,4,3,1,2,1,8,2,7,4,3,1,0,3],[0,3,1,6,7,4,3,1,0,2],[0,2,1,9,7,3,3,1,0,1],[0,4,11,5,1,4,7,1,3,1,0,1],[0,4,10,1,1,1,10,1,1,1,10,1,11,1,1,2,10,1,7,2,3,1],[0,2,4,2,10,1,1,1,10,1,1,1,10,2,1,1,10,1,4,1,10,1,7,1,3,1],[0,1,4,1,10,7,1,2,10,1,4,1,11,1,7,1,3,1],[0,1,4,1,11,5,1,1,10,2,1,1,10,1,11,1,1,1,3,1,0,1],[0,2,1,6,4,3,11,1,1,2,7,1,3,1],[0,3,1,4,4,1,2,2,4,2,1,1,2,1,7,1,3,1],[0,4,3,1,7,2,2,4,4,1,2,3,4,1],[0,4,5,1,3,2,2,4,4,1,2,3,4,1],[0,4,5,1,13,1,3,3,2,1,4,3,2,1,4,1,0,1],[0,4,5,1,13,1,4,1,8,1,4,2,13,1,2,2,4,1,0,2],[0,5,1,1,4,2,1,2,13,3,5,1,0,2],[0,5,1,1,4,1,1,3,5,1,13,3,5,1,0,1],[0,6,1,3,0,2,1,1,4,2,1,1,0,1],[0,11,1,1,4,2,8,1,1,1],[0,11,1,5]],[[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,2,11,3,1,4,0,3],[0,1,1,2,4,9,0,4],[1,1,8,1,4,1,2,3,4,1,7,1,4,1,12,1,5,1,0,5],[0,1,1,1,4,2,2,2,4,1,7,1,4,1,12,2,5,1,0,4],[0,3,5,1,4,3,2,2,12,1,2,1,5,1,0,4],[0,3,1,2,13,3,2,1,12,1,2,1,5,1,0,4],[0,2,1,1,4,2,5,1,13,4,5,1,0,5],[0,2,1,1,4,3,5,1,13,1,5,2,0,6],[0,2,1,1,8,1,1,2,5,3,0,7],[0,3,1,1,0,12]],[[0,16],[0,16],[0,16],[0,16],[0,16],[0,16],[0,16],[0,16],[0,5,3,4,0,7],[0,3,3,2,6,4,3,2,0,5],[0,2,3,1,6,5,7,1,6,2,3,1,0,4],[0,1,3,1,7,2,3,2,6,1,7,1,6,2,8,1,6,1,3,1,0,3],[0,1,3,1,7,1,3,1,2,2,3,1,7,2,9,1,8,1,2,1,3,1,0,3],[0,1,3,2,2,4,3,1,7,1,6,1,1,4,0,2],[0,1,5,1,3,1,2,4,3,1,1,7,0,1],[5,1,13,1,1,1,3,4,7,1,10,6,4,1,0,1],[5,1,13,1,3,1,7,3,3,1,12,1,1,1,11,5,4,1,0,1],[5,1,13,1,3,1,7,2,3,1,13,2,5,1,1,5,0,2],[5,1,13,2,3,2,13,1,5,2,12,1,5,1,1,3,0,3],[5,2,13,2,5,2,4,1,1,1,4,1,1,1,0,6],[0,1,5,3,4,3,8,1,1,1,8,1,1,1,0,5],[0,4,1,7,0,5]],[[0,6,3,4,0,6],[0,4,3,2,6,1,8,2,6,1,3,2,0,4],[0,3,3,1,6,2,2,1,8,2,2,1,6,2,3,1,0,3],[0,2,3,1,6,3,1,4,6,3,3,1,0,2],[0,2,3,1,6,1,1,8,6,1,3,1,0,2],[0,2,3,1,1,10,3,1,0,2],[0,3,3,1,1,1,6,1,1,1,6,2,1,1,6,1,1,1,3,1,0,3],[0,2,1,2,6,8,1,2,0,2],[0,3,1,1,6,8,1,1,0,3],[0,2,1,2,6,1,11,1,1,1,11,2,1,1,11,1,6,1,1,2,0,2],[0,1,4,1,10,1,1,1,11,2,2,4,11,2,1,1,10,1,4,1,0,1],[0,1,4,1,10,1,1,2,10,6,1,2,10,1,4,1,0,1],[0,1,4,1,11,1,1,1,10,1,1,1,11,4,1,1,10,1,1,1,11,1,4,1,0,1],[4,1,2,1,4,1,10,1,1,8,10,1,4,1,0,2],[4,1,2,2,4,1,10,3,3,2,10,3,4,3,0,1],[0,1,4,1,6,2,4,2,10,1,7,2,10,1,4,2,6,1,2,2,4,1],[0,1,4,1,3,1,6,1,5,1,4,1,10,1,6,2,10,1,4,1,1,3,2,1,4,1],[0,3,5,1,12,2,4,1,10,2,4,1,2,1,1,4,0,1],[0,3,5,1,12,1,2,2,4,2,2,2,1,4,0,1],[0,2,1,3,2,2,13,3,5,1,1,4,0,1],[0,1,1,1,8,1,4,2,1,1,5,4,0,1,1,4,0,1],[0,1,1,4,4,1,1,1,0,5,1,2,0,2],[0,4,1,3,0,9]],[[0,16],[0,7,3,4,0,5],[0,5,3,2,6,1,8,2,6,1,3,2,0,3],[1,2,0,1,1,2,6,2,2,1,8,2,2,1,6,2,3,1,0,2],[1,1,2,1,1,1,2,1,1,1,6,2,1,4,6,3,3,1,0,1],[0,1,1,1,2,2,1,9,6,1,3,1,0,1],[1,1,2,1,1,3,11,2,1,1,11,2,1,1,11,2,1,1,3,1,0,1],[1,3,2,1,1,1,10,2,1,1,10,2,1,1,10,2,1,1,4,1,0,1],[1,1,2,1,1,1,2,1,1,2,10,6,1,2,10,1,4,1],[0,1,1,3,3,1,10,1,1,1,11,4,1,1,10,1,4,1,11,1,4,1],[0,1,3,1,7,1,6,1,3,1,11,1,1,6,11,1,4,2,0,1],[0,2,3,1,7,1,6,1,4,1,11,1,1,4,11,1,4,1,7,2,4,1],[0,2,3,1,7,1,6,1,3,1,4,6,7,1,4,3],[0,3,3,1,6,1,5,1,12,5,7,2,2,2,4,1],[0,4,5,1,13,1,12,1,2,2,12,2,2,1,4,1,2,2,4,1],[0,4,5,1,13,2,2,2,12,2,2,1,5,1,4,2,0,1],[0,3,5,1,13,5,12,4,5,1,0,2],[0,3,5,1,13,7,12,2,5,1,0,2],[0,2,5,1,13,10,5,1,0,2],[0,1,1,1,4,3,5,6,4,3,1,1,0,1],[1,1,4,1,8,1,4,1,1,1,0,6,1,1,4,1,8,1,4,1,1,1],[1,4,0,8,1,4]],[[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,2,11,3,1,4,0,3],[0,2,4,1,6,3,4,4,5,1,0,5],[0,1,4,2,6,2,7,1,13,2,12,3,5,1,0,1,1,2,0,1],[4,1,2,2,4,1,7,1,13,2,2,2,12,1,2,2,5,1,8,1,1,2],[4,1,2,3,4,1,13,2,2,2,12,1,2,2,1,1,4,1,1,2],[4,1,2,2,4,1,5,1,13,4,12,3,1,1,4,1,1,2],[0,1,4,2,0,2,5,1,13,3,5,3,1,1,4,1,1,2],[0,4,1,1,4,3,1,1,0,4,1,2,0,1],[0,4,1,1,4,3,8,1,1,1,0,6],[0,4,1,6,0,6]],[[0,16],[0,16],[0,6,3,4,0,6],[0,4,3,2,6,1,8,2,6,1,3,2,0,4],[0,3,3,1,6,2,8,3,2,1,6,2,3,1,0,3],[0,2,3,1,7,3,1,4,6,3,3,1,0,2],[0,2,3,1,7,1,1,8,6,1,3,1,0,2],[0,2,4,1,1,1,11,2,1,1,11,2,1,1,11,2,1,1,4,1,0,2],[0,1,4,1,10,1,1,1,10,2,1,1,10,2,1,1,10,2,1,1,10,1,4,1,0,1],[0,1,4,1,11,1,1,2,10,6,1,2,11,1,4,1,0,1],[0,2,4,1,1,1,10,1,1,1,11,4,1,1,10,1,1,1,4,1,0,2],[0,3,4,1,11,1,1,6,11,1,4,1,0,3],[0,4,4,1,11,1,1,4,11,1,4,1,0,4],[0,3,3,1,7,1,4,6,6,1,3,1,0,3],[0,2,3,1,7,2,13,1,12,5,7,1,6,1,3,1,0,2],[0,2,4,1,7,1,13,1,2,2,12,2,2,2,12,1,7,1,4,1,0,2],[0,1,4,1,2,1,4,1,13,1,2,2,12,2,2,2,12,1,4,1,2,1,4,1,0,1],[0,1,4,1,2,1,4,1,13,4,12,4,4,1,2,1,4,1,0,1],[0,2,4,2,5,1,13,2,5,2,13,2,5,1,4,2,0,2],[0,4,1,1,4,6,1,1,0,4],[0,3,1,1,4,1,8,1,4,1,1,2,4,1,8,1,4,1,1,1,0,3],[0,3,1,10,0,3]],[[0,16],[0,16],[0,6,3,4,0,6],[0,4,3,2,6,4,3,2,0,4],[0,3,3,1,6,8,3,1,0,3],[0,2,3,1,6,10,3,1,0,2],[0,2,3,1,7,1,6,9,3,1,0,2],[0,2,4,1,7,1,6,8,7,1,4,1,0,2],[0,2,4,1,3,1,7,2,6,4,7,2,3,1,4,1,0,2],[0,1,4,1,10,1,1,1,3,2,7,4,3,2,1,1,10,1,4,1,0,1],[0,1,4,1,11,1,1,3,3,4,1,3,11,1,4,1,0,1],[0,2,4,2,1,8,4,2,0,2],[0,4,11,1,1,6,11,1,0,4],[0,3,3,2,12,2,1,2,12,2,3,2,0,3],[0,2,3,1,7,1,5,1,12,2,8,2,12,2,5,1,7,1,3,1,0,2],[0,2,3,1,5,1,12,8,5,1,3,1,0,2],[0,2,3,1,5,3,12,4,5,3,3,1,0,2],[0,3,5,1,12,2,5,1,12,2,5,1,13,2,5,1,0,3],[0,4,5,1,13,1,5,4,13,1,5,1,0,4],[0,4,1,1,4,6,1,1,0,4],[0,3,1,1,4,3,1,2,4,3,1,1,0,3],[0,3,1,10,0,3]],[[0,16],[0,16],[0,16],[0,16],[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,8,2,2,1,3,1,0,3],[0,3,3,1,6,2,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,0,4],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,2,1,1,10,2,1,1,11,5,4,1,0,1],[5,1,13,4,11,2,1,7,0,2],[5,1,13,5,3,1,6,3,4,4,0,2],[5,1,13,3,5,2,3,1,7,2,6,2,3,1,2,1,4,3],[5,1,13,6,3,2,7,2,3,1,2,3,4,1],[0,1,5,1,13,2,1,1,4,3,1,1,3,3,2,3,4,1],[0,2,5,2,1,1,4,3,8,1,1,1,8,1,1,1,4,3,0,1],[0,4,1,8,0,4]],[[0,16],[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,2,11,3,1,2,4,3,0,2],[0,4,5,1,13,1,4,5,3,1,2,1,4,3],[0,3,5,1,13,2,3,1,6,4,3,1,2,3,4,1],[0,3,5,1,13,2,3,1,7,4,3,1,2,3,4,1],[0,3,5,1,13,3,3,5,4,3,0,1],[0,3,5,1,13,6,12,2,5,1,0,3],[0,3,5,1,13,5,5,1,13,1,5,1,0,4],[0,4,5,1,4,3,1,1,4,1,1,1,0,5],[0,4,1,1,4,3,8,1,1,1,8,1,1,1,0,4],[0,4,1,8,0,4]],[[0,16],[0,7,3,5,0,4],[0,5,3,2,6,3,8,1,6,1,3,1,0,3],[0,4,3,1,6,2,7,2,9,1,8,1,2,1,3,1,0,3],[0,3,3,1,7,1,6,1,7,2,1,6,0,2],[0,2,3,1,7,3,1,9,0,1],[0,2,3,1,10,1,1,3,11,1,1,1,11,1,1,1,11,1,0,4],[0,1,3,1,10,1,4,1,10,1,1,1,11,1,10,1,1,1,10,1,1,1,10,1,4,2,0,2],[0,1,3,1,11,1,4,1,10,1,1,2,10,7,4,1,0,1],[0,1,3,1,1,1,11,1,10,1,1,1,10,2,1,1,11,5,4,1,0,1],[0,2,1,2,11,2,10,1,1,7,0,2],[0,3,1,1,4,1,11,4,1,2,4,3,0,2],[0,4,5,1,4,6,3,1,2,1,4,3],[0,3,5,2,13,1,3,1,6,4,3,1,2,3,4,1],[0,2,1,1,5,1,13,2,3,1,7,4,3,1,2,3,4,1],[0,1,1,1,4,1,5,1,13,3,3,5,4,3,1,1],[0,1,1,1,4,1,5,1,13,6,12,1,5,1,1,1,4,1,1,2],[0,1,1,1,4,1,1,1,5,2,13,4,5,1,1,1,4,1,1,2,0,1],[0,1,1,1,4,1,8,1,1,1,0,1,5,4,0,1,1,1,4,1,1,2,0,1],[0,2,1,2,0,8,1,2,0,2],[0,16],[0,16]]],j.chars=null,j}return __extends(d,c),d.prototype.onAction=function(){var c=this;switch(this.updateEntity(),this.doHitTest()){case b.dammage:this.gameOver();break;case b.attack:this.draw(11,null,this._attackDirection,a.Vertical.Up,!0),this.stop(),setTimeout(function(){c.start()},3*this.frameInterval);break;case b.grab:this.moveGrabedEnemy(),this.draw(14,null,this._direction,a.Vertical.Up,!0),this.stop(),setTimeout(function(){c.start()},this.frameInterval);break;default:var d=this.executeRun();d=this.executeJump()||d,0===d.index?this.size.widthOffset=4*this.pixSize:this.size.widthOffset=0,this.draw(d.index,null,d.direction,a.Vertical.Up,!0)}},d.prototype.checkGrabedEnemysAttack=function(b){if(this._grabedEnemy){var c=b.getPosition(),d=b.getCharSize(),e=this._grabedEnemy.getPosition(),f=this._grabedEnemy.getCharSize();if(e.y>c.y+d.height)return;if(c.y>e.y+f.height)return;if(e.x>c.x+d.width)return;if(c.x>e.x+f.width)return;var g=e.x+f.width/2,h=c.x+d.width/2;b.onKicked(g<=h?a.Direction.Right:a.Direction.Left,3*this._speed),this._grabedEnemy.onKicked(g<=h?a.Direction.Left:a.Direction.Right,3*this._speed),this._grabedEnemy=null}},d.prototype.doHitTest=function(){if(this._gameMaster){var c=this._gameMaster.getEnemys();for(var d in c)if(!c[d].isKilled()&&this._grabedEnemy!=c[d]){var e=c[d].getPosition(),f=c[d].getCharSize();if(this.checkGrabedEnemysAttack(c[d]),this.position.y>e.y+f.height)continue;if(e.y>this.position.y+this.size.height)continue;if(this.position.x>e.x+f.width)continue;if(e.x>this.position.x+this.size.width)continue;if(c[d].isStepped()){if(this._grabbing)return this.grabEnemy(c[d]),b.grab;var g=this.position.x+this.size.width/2,h=e.x+f.width/2;return this._attackDirection=g<=h?a.Direction.Right:a.Direction.Left,c[d].onKicked(this._attackDirection,3*this._speed),b.attack}if(this._isJumping&&this._yVector<0){
if(this._isSpecial){var g=this.position.x+this.size.width/2,h=e.x+f.width/2;this._attackDirection=g<=h?a.Direction.Right:a.Direction.Left,c[d].onKicked(this._attackDirection,3*this._speed)}else c[d].onStepped();this._yVector=12*this.pixSize;continue}return b.dammage}}return b.none},d.prototype.executeJump=function(){var a=this.entity.ground||0;return this.position.y>a&&(this._isJumping=!0),this._isJumping?(this._yVector-=this._gravity*this.pixSize,null!=this.entity.ceiling?(this.position.y=Math.min(this.position.y+this._yVector,this.entity.ceiling-this.size.height+this.size.heightOffset),this.position.y==this.entity.ceiling-this.size.height+this.size.heightOffset&&this._yVector>0&&(this.upperObject.onPushedUp(),this._yVector=0)):this.position.y=this.position.y+this._yVector,this.moveGrabedEnemy(),this.position.y<=a?(this._isJumping=!1,this._yVector=0,this.position.y=a,null):this._grabedEnemy?void 0:this._isSpecial?(this._specialAnimationIndex++,this._specialAnimationIndex>this._specialAnimation.length&&(this._specialAnimationIndex=0),this._specialAnimation[this._specialAnimationIndex]):this._speed>8?this._yVector>0&&this.position.y<3*this.size.height?null:{index:7,direction:this._direction}:{index:this._yVector>0?2:3,direction:this._direction}):(this._yVector=0,null)},d.prototype.moveGrabedEnemy=function(){if(this._grabedEnemy){var b=this._direction==a.Direction.Right?.7*this.size.width:-1*this.size.width*.7,c=this.pixSize;this._grabedEnemy.zIndex=this.zIndex-1,this._grabedEnemy.setPosition({x:this.position.x+b,y:this.position.y+c}),this._grabedEnemy.drawAction()}},d.prototype.executeRun=function(){var b=this.updateDirection();if(this._direction==a.Direction.Right){var c=this.entity.right||this.targetDom.clientWidth;this.position.x=Math.min(this.position.x+this.pixSize*this._speed,c-this.size.width)}else{var e=this.entity.left||0;this.position.x=Math.max(this.position.x-this.pixSize*this._speed,e)}var f=this._runIndex;return this._isSquat?(f=this._grabedEnemy?14:8,{index:f,direction:this._direction}):(this._currentStep<d.STEP?this._currentStep++:(this._currentStep=0,this._runIndex=1^this._runIndex),this._grabedEnemy?b?(f=12,this._grabedEnemy.setPosition({x:this.position.x,y:this.position.y}),this._grabedEnemy.zIndex=this.zIndex+1,this._grabedEnemy.drawAction()):(f=0==this._runIndex?15:16,this.moveGrabedEnemy()):(f=this._speed>8?0==this._runIndex?4:5:this._runIndex,this._isJumping||(this._speed>5||!b&&this._isBraking?(this._direction==a.Direction.Left&&this.position.x<3*this.size.width||this._direction==a.Direction.Right&&this.position.x>this.targetDom.clientWidth-4*this.size.width)&&(f=6,this._speed>2&&this._speed--,this._isBraking=!0):this._isBraking=!1)),{index:f,direction:this._direction})},d.prototype.grabEnemy=function(a){a.onGrabed(this),this._grabedEnemy=a},d.prototype.releaseEnemy=function(){this._grabedEnemy=null},d.prototype.putEnemy=function(){},d.prototype.onGrab=function(){this._grabbing=!0},d.prototype.onAbortGrab=function(){var b=this;this._grabbing=!1,this._grabedEnemy&&(this.draw(11,null,this._direction,a.Vertical.Up,!0),this.stop(),setTimeout(function(){b.start()},3*this.frameInterval),this._grabedEnemy.onKicked(this._direction,3*this._speed),this._grabedEnemy=null)},d.prototype.onJump=function(){this._isJumping||(this._isJumping=!0,this._isSpecial=!1,this._yVector=this._jumpPower*this.pixSize)},d.prototype.onSpecialJump=function(){this._isJumping||(this._isJumping=!0,this._isSpecial=!0,this._yVector=this._jumpPower*this.pixSize)},d.prototype.onAbortJump=function(){this._yVector>0&&(this._yVector=0)},d.prototype.onSpeedUp=function(){var a=this;this._speedUpTimer||(this._speedDownTimer&&(this.removeTimer(this._speedDownTimer),this._speedDownTimer=null),this._speedUpTimer=this.getTimer(function(){a._speed<10?a._isBraking||a._speed++:(a.removeTimer(a._speedUpTimer),a._speedUpTimer=null)},this.frameInterval))},d.prototype.onAbortSpeedUp=function(){var a=this;this._speedDownTimer||(this._speedDownTimer=this.getTimer(function(){a._speedUpTimer&&(a.removeTimer(a._speedUpTimer),a._speedUpTimer=null),a._speed>2?a._speed--:(a.removeTimer(a._speedDownTimer),a._speedDownTimer=null,a._isBraking=!1)},this.frameInterval))},d.prototype.onSquat=function(){var a=this;this.onAbortSpeedUp(),this._isSquat=!0,this._squatTimer||(this._squatTimer=this.getTimer(function(){a._speed>0?a._speed--:(a.removeTimer(a._squatTimer),a._squatTimer=null)},this.frameInterval))},d.prototype.onAbortSquat=function(){this._squatTimer&&(this.removeTimer(this._squatTimer),this._squatTimer=null),this._speed=d.DEFAULT_SPEED,this._isSquat=!1},d.prototype.gameOver=function(){var b=this;this._gameMaster&&this._gameMaster.doGameOver(),this.stop(),this._gameOverTimer=this.getTimer(function(){return b._gameOverWaitCount<20?(b._gameOverWaitCount++,b.draw(9,null,a.Direction.Right,a.Vertical.Up,!0),void(b._yVector=b._jumpPower*b.pixSize)):(b._yVector-=b._gravity*b.pixSize,b.position.y=b.position.y+b._yVector,b.position.y<5*b.size.height*-1?(b.removeTimer(b._gameOverTimer),void b.destroy()):(b._currentStep<d.STEP?b._currentStep++:(b._currentStep=0,b._runIndex=1^b._runIndex),void b.draw(9,null,0==b._runIndex?a.Direction.Left:a.Direction.Right,a.Vertical.Up,!0)))},this.frameInterval)},d.prototype.onGool=function(b){this.draw(10,null,a.Direction.Right,a.Vertical.Up,!0),b&&b()},d.prototype.touchAbort=function(a){switch(a){case 3:this.onAbortSquat();break;case 1:case 2:this.onAbortJump(),this.onAbortSquat();break;default:this.onAbortGrab(),this.onAbortJump(),this.onAbortSquat()}},d.prototype.touch=function(a){switch(a){case 1:this.onGrab();break;case 2:this.onJump();break;case 3:this.onSpecialJump();break;case 4:this.onSquat();break;default:this.onJump()}},d.prototype.registerActionCommand=function(){var b=this;a.GameMaster.checkMobile()&&(0==window.orientation?(this._screenModeForMobile="PORTRAIT",this._deviceDirection=1):90==window.orientation?(this._screenModeForMobile="LANSCAPE",this._deviceDirection=1):-90==window.orientation&&(this._screenModeForMobile="LANSCAPE",this._deviceDirection=-1),document.addEventListener("touchstart",function(a){b.touch(a.targetTouches.length)}),document.addEventListener("touchend",function(a){b.touchAbort(a.targetTouches.length)}),document.addEventListener("touchcancel",function(a){b.touchAbort(a.targetTouches.length)}),window.addEventListener("deviceorientation",function(c){if(!b._isSquat){var d=0;switch(b._screenModeForMobile){case"PORTRAIT":d=Math.round(c.gamma);break;case"LANSCAPE":d=Math.round(c.beta)}d*=b._deviceDirection,Math.abs(d)>=20&&b._canSpeedUpForMobile?b._direction==a.Direction.Left&&d<0?(b._canSpeedUpForMobile=!1,b.onSpeedUp()):b._direction==a.Direction.Right&&d>0&&(b._canSpeedUpForMobile=!1,b.onSpeedUp()):Math.abs(d)<20&&!b._canSpeedUpForMobile&&(b.onAbortSpeedUp(),b._canSpeedUpForMobile=!0)}}),window.addEventListener("orientationchange",function(a){window.matchMedia("(orientation: portrait)").matches&&(b._screenModeForMobile="PORTRAIT",b._deviceDirection=1),window.matchMedia("(orientation: landscape)").matches&&(b._screenModeForMobile="LANSCAPE",90==window.orientation?b._deviceDirection=1:b._deviceDirection=-1)},!1)),document.addEventListener("keydown",function(a){65!=a.keyCode||b._isSquat||b.onJump(),88!=a.keyCode||b._isSquat||b.onSpecialJump(),89!=a.keyCode||b._isSquat||b.onGrab(),66!=a.keyCode||b._isJumping||b._isSquat||b.onSpeedUp(),40!=a.keyCode||b._isJumping||b.onSquat()}),document.addEventListener("keyup",function(a){65==a.keyCode&&b.onAbortJump(),88==a.keyCode&&b.onAbortJump(),89==a.keyCode&&b.onAbortGrab(),66==a.keyCode&&b.onAbortSpeedUp(),40==a.keyCode&&b.onAbortSquat()})},d}(a.AbstractPlayer);c.STEP=2,c.DEFAULT_SPEED=2,a.MarioWorld=c}(Charjs||(Charjs={}));var Charjs;!function(a){var b=function(a){function b(b,c,d,e){var f=a.call(this)||this;return f.width=b,f.height=c,f.pixSize=d,f.type=e,f.element=null,f}return __extends(b,a),b.prototype.createImage=function(){return this.toImage(this.draw())},b.prototype.draw=function(){if(!this.element){this.element=b.createCanvasElement(this.width,this.height,0);for(var a=this.element.getContext("2d"),c=this.width/this.pixSize/2,d=this.deepCopy(this.dataPattern),e=0,f=d;e<f.length;e++){var g=f[e];g.currentOffset=c}for(var h=Math.min(this.height/this.pixSize,(this.width/2-d[0].pattern.reduce(function(a,b){return a+b})*this.pixSize)/(d[0].pattern[d[0].pattern.length-1]*this.pixSize)+d[0].pattern.length),i=this.height/this.pixSize-h,j=0;j<h;j++)for(var k=0,l=d;k<l.length;k++){var g=l[k];if(g.start<=j){for(var m=g.currentOffset-g.pattern[Math.min(j-g.start,g.pattern.length-1)],n=g.isFill?c:g.currentOffset+g.fillPattern[Math.min(j-g.start,g.fillPattern.length-1)],o=m;o<n;o++)this.picWithMirror(c,a,o,j+i,g.color);g.currentOffset=m}}}return this.element},b.prototype.picWithMirror=function(a,c,d,e,f){b.drawPixel(c,d,e,this.pixSize,f);var g=a+(a-d)-1;b.drawPixel(c,g,e,this.pixSize,f)},b.prototype.deepCopy=function(a){return JSON.parse(JSON.stringify(a))},b}(a.AbstractPixel);a.AbstractMountain=b;var c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.dataPattern=[{start:0,pattern:[2,2,2,1],fillPattern:[0,2,2,2,1],color:"#6daf91",isFill:!1},{start:2,pattern:[2,2,2,1],fillPattern:[0,2,2,1],color:"#5d9f81",isFill:!1},{start:4,pattern:[2,3,1],fillPattern:[],color:"#4d8f71",isFill:!0}],b}return __extends(b,a),b}(b);a.Mountain01=c;var d=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.dataPattern=[{start:0,pattern:[2,3,3,2],fillPattern:[2,3,3,2],color:"#98e0c0",isFill:!1},{start:2,pattern:[2,4,2],fillPattern:[0,0,2],color:"#88d0b0",isFill:!1},{start:3,pattern:[2],fillPattern:[],color:"#78c0a0",isFill:!0}],b}return __extends(b,a),b}(b);a.Mountain02=d;var e=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.dataPattern=[{start:0,pattern:[2,3,3,2],fillPattern:[0,2,3,1,2],color:"#6daf91",isFill:!1},{start:2,pattern:[2,5,1,2],fillPattern:[0,0,1,1,2],color:"#5d9f81",isFill:!1},{start:3,pattern:[5,1,1,1,2],fillPattern:[],color:"#4d8f71",isFill:!0}],b}return __extends(b,a),b}(b);a.Mountain03=e;var f=function(){function a(a){this.pixSize=a,this.width=1024,this.height=864}return a.prototype.drawBackgroundImage=function(a){a.style.backgroundColor="#99d9ea";var b=document.createElement("canvas"),f=b.getContext("2d");b.setAttribute("width",this.width.toString()),b.setAttribute("height",this.height.toString());var g=[],h=new d(1100,250,this.pixSize);g.push({mount:h,offsetX:-330,offsetY:614}),g.push({mount:h,offsetX:695,offsetY:614}),g.push({mount:new e(820,200,this.pixSize),offsetX:50,offsetY:664}),g.push({mount:new d(700,180,this.pixSize),offsetX:350,offsetY:684}),g.push({mount:new c(350,150,this.pixSize),offsetX:0,offsetY:714}),MyQ.Promise.reduce(g,this.composition(f)).then(function(){a.style.backgroundImage="url("+b.toDataURL()+")",a.style.backgroundPosition="left bottom",a.style.backgroundRepeat="repeat-x"})},a.prototype.composition=function(a){return function(b,c){c.mount.createImage().then(function(d){a.drawImage(d,c.offsetX,c.offsetY),b.resolve({})})}},a}();a.Mountains=f}(Charjs||(Charjs={}));var Charjs;!function(a){var b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.colors=["","#000000","#2ec720","#177848","#78681a","#c7995c","#e0c057"],b.cchars=[[[0,4,1,12],[0,2,1,2,2,12],[0,1,1,1,2,14],[0,1,1,1,2,5,3,4,2,3,3,2],[1,1,2,4,3,2,1,4,3,3,1,2],[1,1,2,3,3,2,1,1,4,4,1,3,4,2],[1,1,2,3,3,1,1,1,4,10],[1,1,2,2,3,2,1,1,4,1,5,4,4,3,5,2],[1,1,2,2,3,1,1,1,4,2,5,9],[1,1,2,2,3,1,1,1,4,2,5,6,6,2,5,1],[1,1,2,2,3,1,1,1,4,2,5,6,6,2,5,1],[1,1,2,3,3,1,1,1,4,2,5,5,6,2,5,1],[1,1,2,3,3,1,1,1,4,2,5,2,6,1,5,5],[1,1,2,3,3,1,1,1,4,2,5,2,6,1,5,5],[1,1,2,2,3,1,1,1,4,3,5,8],[1,1,2,2,3,1,1,1,4,2,5,9]],[[1,16],[2,16],[2,16],[3,1,2,7,3,3,2,3,3,2],[1,1,3,2,2,3,3,2,1,3,3,3,1,2],[4,1,1,2,3,3,1,2,4,3,1,3,4,2],[4,3,1,3,4,10],[5,2,4,5,5,4,4,3,5,2],[5,13,6,2,5,1],[5,3,6,2,5,8,6,2,5,1],[5,3,6,2,5,8,6,2,5,1],[5,3,6,2,5,5,6,1,5,5],[5,10,6,1,5,5],[5,16],[5,16],[5,16]],[[1,1,2,2,3,1,1,1,4,2,5,9],[1,1,2,2,3,1,1,1,4,2,5,9],[1,1,2,3,3,1,1,1,4,2,5,8],[1,1,2,3,3,1,1,1,4,2,5,1,6,1,5,6],[1,1,2,4,3,1,1,1,4,1,5,1,6,1,5,6],[1,1,2,4,3,1,1,1,4,1,5,1,6,1,5,6],[1,1,2,4,3,1,1,1,4,1,5,4,6,1,5,3],[1,1,2,3,3,1,1,1,4,2,5,4,6,1,5,3],[1,1,2,2,3,1,1,1,4,2,5,9],[1,1,2,2,3,1,1,1,4,2,5,9],[1,1,2,2,3,1,1,1,4,2,5,5,6,2,5,2],[1,1,2,3,3,1,1,1,4,2,5,4,6,2,5,2],[1,1,2,3,3,1,1,1,4,2,5,4,6,2,5,2],[1,1,2,3,3,1,1,1,4,2,5,1,6,1,5,6],[1,1,2,2,3,1,1,1,4,3,5,1,6,1,5,6],[1,1,2,2,3,1,1,1,4,2,5,9]],[[5,16],[5,5,6,2,5,9],[5,5,6,2,5,3,6,1,5,5],[5,5,6,2,5,3,6,1,5,5],[5,3,6,1,5,6,6,1,5,5],[5,3,6,1,5,6,6,1,5,5],[5,13,6,1,5,2],[5,13,6,1,5,2],[5,16],[5,16],[5,3,6,2,5,8,6,2,5,1],[5,3,6,2,5,8,6,2,5,1],[5,3,6,2,5,5,6,1,5,2,6,2,5,1],[5,10,6,1,5,5],[5,16],[5,16]]],b.chars=null,b}return __extends(b,a),b.prototype.setBorderImage=function(){var a=this;this.createBorderImage().then(function(b){var c=a.pixSize*a.chars[0].length;b="url("+b+")",a.targetDom.style.borderImage=b+" "+c+" fill round",a.targetDom.style.borderStyle="solid",a.targetDom.style.borderWidth=c+"px "+c+"px 0px "+c+"px",a.targetDom.style.webkitBorderImage=b+" "+c+" round"})},b}(a.AbstractGround);a.NormalGroundWorld=b}(Charjs||(Charjs={}));var Charjs;!function(a){var b=function(){function b(a,b,c){void 0===c&&(c=45);var d=this;this.targetDom=a,this.charSize=b,this.frameInterval=c,this._events={},this._eventCount=0,this._gameTimer=null,this._enemys={},this._enemyCount=0,this._objects={},this._objectCount=0,this._player=null,this._isStarting=!1,this.defaultCommand=function(a){32==a.keyCode&&(d._isStarting?d.stop():d.start())}}return b.GetController=function(a,c,d){var e=b.GAME_MASTERS[a];return e||(e=new b(c,d),b.GAME_MASTERS[a]=e,e)},b.prototype.addEvent=function(a){return this._eventCount++,this._events[this._eventCount]=a,this._eventCount},b.prototype.removeEvent=function(a){delete this._events[a]},b.prototype.startTimer=function(){var a=this;this._gameTimer||(this._gameTimer=setInterval(function(){for(var b in a._events)a._events[b]()},this.frameInterval))},b.prototype.stopTimer=function(){this._gameTimer&&(clearInterval(this._gameTimer),this._gameTimer=null)},b.prototype.CreatePlayerInstance=function(b,c,d){void 0===d&&(d=a.Direction.Right);var e=new b(this.targetDom,this.charSize,c,d,this.frameInterval);return e._name="player",this._player=e,e._gameMaster=this,e},b.prototype.CreateEnemyInstance=function(b,c,d){void 0===d&&(d=a.Direction.Right);var e=new b(this.targetDom,this.charSize,c,d,this.frameInterval);return e._name="enemy_"+this._enemyCount,this._enemyCount++,this._enemys[e._name]=e,e._gameMaster=this,e},b.prototype.CreateObjectInstance=function(b,c){var d=new b(this.targetDom,this.charSize,c,a.Direction.Right,this.frameInterval);return d._name="obj_"+this._objectCount,this._objectCount++,this._objects[d._name]=d,d},b.prototype.CreateGround=function(a,b){new a(b,this.charSize).setBorderImage()},b.prototype.deleteEnemy=function(a){this.cleanEntityEnemiesFromAllObjects(a),delete this._enemys[a._name],0==Object.keys(this._enemys).length&&this.doGool()},b.prototype.getEnemys=function(){return this._enemys},b.prototype.getApproachedObjects=function(a,b){var c=[];this.cleanEntityEnemiesFromAllObjects(a);for(var d in this._objects)if(this._objects[d].isActive){var e=this._objects[d].getPosition(),f=a.getPosition();f.x-b<e.x&&e.x<f.x+b&&f.y-b<e.y&&e.y<f.y+b&&c.push(this._objects[d])}return c},b.prototype.cleanEntityEnemiesFromAllObjects=function(b){if(b instanceof a.AbstractEnemy)for(var c in this._objects)this._objects[c].entityEnemies.some(function(a,c,d){return a==b&&d.splice(c,1),!0})},b.prototype.init=function(){this._player&&this._player.init();for(var a in this._enemys)this._enemys[a].init();for(var b in this._objects)this._objects[b].init();for(var c in this._enemys)this._enemys[c].start();this._player&&this._player.start(),this.registerCommand()},b.prototype.isStarting=function(){return this._isStarting},b.prototype.registerCommand=function(){document.addEventListener("keypress",this.defaultCommand)},b.prototype.start=function(){this.startTimer(),this._isStarting=!0},b.prototype.stop=function(){this.stopTimer(),this._isStarting=!1},b.prototype.doGameOver=function(){for(var a in this._enemys)this._enemys[a].stop()},b.prototype.doGool=function(){var a=this;for(var b in this._enemys)this._enemys[b].stop();var c=document.body,d=document.createElement("div");d.setAttribute("width",c.clientWidth.toString()),d.setAttribute("height",c.clientHeight.toString());var e=0,f=this.addEvent(function(){1!=Math.floor(e)?e+=.01:(a.removeEvent(f),a._player.stop(),a._player.onGool(function(){var b=a.addEvent(function(){if("0.20"!=e.toFixed(2))e-=.05;else{a.removeEvent(b),a._player.start();var f=c.clientWidth>c.clientHeight?c.clientWidth:c.clientHeight,g=0,h=a.addEvent(function(){f-=20;var b=a._player.getCurrntElement().getBoundingClientRect();a.drawBlackClipCircle(c,b,f,g),g++,f<=0&&(clearInterval(h),a._player.destroy())})}d.style.cssText="z-index: "+(a._player.zIndex-1)+"; position: absolute; background-color:black; width: 100vw; height: 100vh; border: 0;opacity: "+e+";"})})),d.style.cssText="z-index: "+(a._player.zIndex-1)+"; position: absolute; background-color:black; width: 100vw; height: 100vh; border: 0;opacity: "+e+";"});this.targetDom.appendChild(d)},b.prototype.drawBlackClipCircle=function(a,b,c,d){var e=document.createElement("canvas"),f=e.getContext("2d"),g=a.scrollWidth,h=a.scrollHeight;e.id="bkout_circle_"+d,e.setAttribute("width",g.toString()),e.setAttribute("height",h.toString()),e.style.cssText="z-index: "+(this._player.zIndex+1)+"; position: absolute;",f.fillStyle="black",f.fillRect(0,0,g,h),c>0&&(f.globalCompositeOperation="destination-out",f.beginPath(),f.arc(b.left+b.width/2+window.scrollX,b.top+b.height/2+window.scrollY,c,0,2*Math.PI,!1)),f.fill(),a.appendChild(e),0!=d&&a.removeChild(document.getElementById("bkout_circle_"+(d-1)))},b.checkMobile=function(){return navigator.userAgent.indexOf("iPhone")>0&&-1==navigator.userAgent.indexOf("iPad")||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0},b}();b.GAME_MASTERS={},a.GameMaster=b}(Charjs||(Charjs={}));var Util;!function(a){var b=function(){function a(){}return a.RLE=function(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=null,f=0,g=0;g<a[c].length;g++)e!==a[c][g]?(null!==e&&(d.push(e),d.push(f)),e=a[c][g],f=1):f++;d.push(e),d.push(f),b.push(d)}return b},a.RLD=function(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=0;e<a[c].length;e+=2)for(var f=0;f<a[c][e+1];f++)d.push(a[c][e]);b.push(d)}return b},a}();a.Compression=b}(Util||(Util={}));var MyQ;!function(a){var b=function(){function b(){this.promise=new a.Promise}return b.defer=function(){return new b},b.prototype.resolve=function(a){var b=this;setTimeout(function(){b.promise.resolve(a)},0)},b.prototype.reject=function(a){var b=this;setTimeout(function(){b.promise.reject(a)},0)},b}();a.Deferred=b}(MyQ||(MyQ={}));var MyQ;!function(a){var b=function(){function b(){this._ok=null,this._ng=null,this._final=null,this._next=null,this._finallyCalled=!1}return b.prototype.resolve=function(a){var c=this;if(this._ok)try{var d=this._ok(a);d instanceof b?d.then(function(a){c._next.resolve(a)}).catch(function(a){c.reject(a)}):this._next.resolve(d)}catch(a){this.reject(a)}finally{this.final()}},b.prototype.reject=function(a){try{this._next?this._next.reject(a):this._ng&&this._ng(a)}catch(a){throw a}finally{this.final()}},b.prototype.final=function(){this._next?this._next.final():this._final&&(this._finallyCalled||(this._finallyCalled=!0,this._final()))},b.prototype.then=function(a){return this._ok=a,this._next=new b,this._next},b.prototype.catch=function(a){return this._ng=a,this},b.prototype.finally=function(a){return this._final=a,this},b.when=function(b){var c=a.Deferred.defer();return setTimeout(function(){c.resolve(b)},0),c.promise},b.all=function(a){for(var c=a.length,d=0,e=[],f=new b,g=0;g<a.length;g++)a[g].then(function(a){return function(b){d++,e[a]=b,c==d&&f.resolve(e)}}(g)).catch(function(a){return function(a){f.reject(a)}}());return f},b.allSettled=function(a){for(var c=a.length,d=0,e=[],f=new b,g=0;g<a.length;g++)a[g].then(function(a){return function(b){d++,e[a]={state:"fulfilled",value:b},c==d&&f.resolve(e)}}(g)).catch(function(a){return function(b){d++,e[a]={state:"rejected",reason:b},c==d&&f.resolve(e)}}(g));return f},b.race=function(a){for(var c=new b,d=!1,e=function(a){d||(d=!0,c.resolve(a))},f=function(a){d||(d=!0,c.reject(a))},g=0;g<a.length;g++)a[g].then(e).catch(f);return c},b.reduce=function(c,d){return c.reduce(function(b,c){return b.then(function(){var b=a.Deferred.defer();return d(b,c),b.promise})},b.when())},b}();a.Promise=b}(MyQ||(MyQ={}));
//# sourceMappingURL=mario.min.js.map